<ion-header [translucent]="true">
  <ion-toolbar color="mycolor">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button> <!-- Botón para abrir menú lateral -->
    </ion-buttons>
    <ion-title>Contacto</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-text color="my-color">
    <h4>
      <ion-icon 
        name="at" 
        size="large">
      </ion-icon> 
      Contáctame
    </h4>
  </ion-text>
  <ion-card color="mycolor">
    <ion-list>
      <ion-item>
        <ion-icon slot="start" name="call"></ion-icon>
        <ion-label>Teléfono: +1 234 567 890</ion-label>
      </ion-item>
  
      <ion-item>
        <ion-icon slot="start" name="mail"></ion-icon>
        <ion-label>Email: contacto&#64;myapp.com</ion-label>
      </ion-item>
  
      <ion-item>
        <ion-icon slot="start" name="location"></ion-icon>
        <ion-label>Dirección: Calle Falsa 123, Ciudad</ion-label>
      </ion-item>
    </ion-list>
  </ion-card>

  <ion-text color="my-color" class="ion-margin">
    <h4>
      <ion-icon 
        name="megaphone" 
        size="large">
      </ion-icon> 
        Envíame un mensaje
    </h4>
  </ion-text>
<!-- Formulario básico para solicitar servicio de asesorias -->
<form [formGroup]="contactoForm" (ngSubmit)="enviarMensaje()">

  <ion-item>
    <ion-label position="floating">Nombre</ion-label>
    <ion-input formControlName="nombre"></ion-input>
    <ion-text color="danger" *ngIf="contactoForm.get('nombre')?.invalid && contactoForm.get('nombre')?.touched">
      <small>Nombre es requerido y debe tener al menos 3 caracteres.</small>
    </ion-text>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Email</ion-label>
    <ion-input type="email" formControlName="email"></ion-input>
    <ion-text color="danger" *ngIf="contactoForm.get('email')?.invalid && contactoForm.get('email')?.touched">
      <small>Por favor, introduce un email válido.</small>
    </ion-text>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Teléfono</ion-label>
    <ion-input type="tel" formControlName="telefono"></ion-input>
    <ion-text color="danger" *ngIf="contactoForm.get('telefono')?.invalid && contactoForm.get('telefono')?.touched">
      <small>El teléfono debe ser móvil (04) y debe contener 11 dígitos.</small>
    </ion-text>
  </ion-item>

  <ion-item>
    <ion-label>Área de interés</ion-label>
    <ion-select formControlName="area" placeholder="Seleccione un área">
      <ion-select-option *ngFor="let area of areas" [value]="area.value">{{ area.label }}</ion-select-option>
    </ion-select>
    <ion-text color="danger" *ngIf="contactoForm.get('area')?.invalid && contactoForm.get('area')?.touched">
      <small>Debe seleccionar un área.</small>
    </ion-text>
  </ion-item>

  <ion-item *ngIf="temas.length > 0">
    <ion-label>Tema de asesoría</ion-label>
    <ion-select formControlName="tema" placeholder="Seleccione un tema">
      <ion-select-option *ngFor="let tema of temas" [value]="tema">{{ tema }}</ion-select-option>
    </ion-select>
    <ion-text color="danger" *ngIf="contactoForm.get('tema')?.invalid && contactoForm.get('tema')?.touched">
      <small>Debe seleccionar un tema.</small>
    </ion-text>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Mensaje</ion-label>
    <ion-textarea formControlName="mensaje"></ion-textarea>
    <ion-text color="danger" *ngIf="contactoForm.get('mensaje')?.invalid && contactoForm.get('mensaje')?.touched">
      <small>El mensaje es requerido y debe tener al menos 8 caracteres.</small>
    </ion-text>
  </ion-item>

  <ion-button 
    type="submit" 
    expand="block" 
    shape="round" 
    fill="solid"
    mode="ios" 
    color="mycolor" 
    [disabled]="contactoForm.invalid" 
    class="ion-margin">
    Envíame un mensaje
  </ion-button>

</form>
</ion-content>
